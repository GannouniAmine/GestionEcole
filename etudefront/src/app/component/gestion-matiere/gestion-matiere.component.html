<!-- classes.component.html -->




<!-- Button trigger modal -->
<h2 class="mb-4 text-center text-primary" style="font-size: 2em">Liste des matieres</h2>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
    Ajouter matiere
  </button>
 
   
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ajouter une Matiere</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
       
            <form [formGroup]="formAddMatiere" >
                <div class="row">
                     
                   
                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>nom</label>
                            <input
                                class="form-control"
                                id="nom"
                                required
                                formControlName="nom"
                                name="nom"
                                type="text"
                                placeholder="nom"/>
                            <small *ngIf="submitted && formAddMatiere.get('nom')?.invalid" class="text-danger">nom est obligatoire</small>
                        </div>
                    </div>

                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>coeff</label>
                            <input
                                class="form-control"
                                id="coeff"
                                required
                                formControlName="coeff"
                                name="coeff"
                                type="number"
                                placeholder="coeff"/>
                            <small *ngIf="submitted && formAddMatiere.get('coeff')?.invalid" class="text-danger">coeff est obligatoire</small>
                        </div>
                    </div>

                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>duree</label>
                            <input
                                class="form-control"
                                id="duree"
                                required
                                formControlName="duree"
                                name="duree"
                                type="number"
                                placeholder="duree"/>
                            <small *ngIf="submitted && formAddMatiere.get('duree')?.invalid" class="text-danger">la duree est obligatoire</small>
                        </div>
                    </div>
   
                 
   
   
               
            </div>
             
            </form>




           




        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <button (click)="addMatiere()"  type="button" class="btn btn-primary">Enregistrer</button>
        </div>
      </div>
    </div>
  </div>










<!-- Modal modifier -->
  <div class="modal fade" id="exampleModalmodifier" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modifier la Matiere </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
       
            <form  [formGroup]="FormGroupviewupd">
                <div class="row">
                     
                   
                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>nom *</label>
                            <input
                                class="form-control"
                                id="nom"
                                required
                                formControlName="nom"
                                name="nom"
                                type="text"
                                placeholder="nom"/>
                            <small *ngIf="submitted && FormGroupviewupd.get('nom')?.invalid" class="text-danger">nom est obligatoire</small>
                        </div>
                    </div>

                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>coeff</label>
                            <input
                                class="form-control"
                                id="coeff"
                                required
                                formControlName="coeff"
                                name="coeff"
                                type="number"
                                placeholder="coeff"/>
                            <small *ngIf="submitted && formAddMatiere.get('coeff')?.invalid" class="text-danger">coeff est obligatoire</small>
                        </div>
                    </div>
                    <div class="col-xl-12 col-lg-12 col-md-12">
                        <div class="form-inner">
                            <label>duree</label>
                            <input
                                class="form-control"
                                id="duree"
                                required
                                formControlName="duree"
                                name="duree"
                                type="number"
                                placeholder="duree"/>
                            <small *ngIf="submitted && FormGroupviewupd.get('duree')?.invalid" class="text-danger">duree est obligatoire</small>
                        </div>
                    </div>
   
                 
   
   
               
            </div>
             
            </form>




     




        </div>
        <div class="modal-footer">
          <button  type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <button (click)="updateMatiere()"  type="button" class="btn btn-primary">Enregistrer</button>
        </div>
      </div>
    </div>
  </div>
<div class="container mt-4">
   


    <!-- Affichage de la liste des classes -->
    <div class="row">
       
         
        <table class="eg-table order-table table mb-0">
            <thead>
                <tr>
                    <th>nom</th>
                    <th>coeff</th>
                    <th>Duree</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of matiereList() " >
                    <td data-label="id ">{{item.id}} </td>
                    <td data-label="nom">{{item.nom}}</td>
                    <td data-label="duree ">{{item.duree}}</td>
                    <td data-label="Action">
                       
                       
                        <button (click)="getmatiere(item.id)"    class="btn btn-sm btn-success me-2 custom-width"  data-bs-toggle="modal" data-bs-target="#exampleModalmodifier">
                           
                          Modifier
                        </button >
                        <button (click)="deleteMatiere(item.id)"   class="btn btn-sm btn-danger me-2 custom-width">
                        Supprimer
                        </button >
                        <!-- <button   class="btn btn-sm btn-primary me-2 custom-width" data-bs-toggle="modal" data-bs-target="#exampleModalAffecter"
                        (click)="getId(item.id)">
                            + eleve
                            </button >
                            <button   class="btn btn-sm btn-info custom-width" data-bs-toggle="modal" data-bs-target="#exampleModalEleve"
                            (click)="getListEleveByClasse(item.id)">
                               liste Eleves
                                </button > -->
         
                    </td>
                </tr>
           
             
               
            </tbody>
        </table>
            <!-- <mat-card class="mb-3">
                <mat-card-header>
                    <mat-card-title>{{ classe.nom }}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <p>Année scolaire: {{ classe.duree }}</p>
                    Ajoutez d'autres détails si nécessaire
                    <div class="btn-group">
                        <button mat-raised-button color="primary" (click)="selectClass(classe)">Modifier</button>
                        <button mat-raised-button color="warn" (click)="deleteClass(classe.id)">Supprimer</button>
                    </div>
                </mat-card-content>
            </mat-card> -->










       
    </div>


 
</div>
<!-- <div class="modal fade" id="exampleModalEleve" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Afficher la liste des Élèves</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Prénom</th>
              <th scope="col">nom</th>
              <th scope="col">Email</th>
              <th scope="col">Tél</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of eleveListClasse">
              <td>{{ item.id }}</td>
              <td>{{ item.firstName }}</td>
              <td>{{ item.lastName }}</td>
              <td>{{ item.email }}</td>
              <td>{{ item.phone }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div> -->
   <!-- madal affecter -->
 <!--   <div class="modal fade" id="exampleModalE" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Affecter eleve au classe</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
     <table class="table table-bordered">
      <thead>
          <tr>
              <th scope="col">ID</th>
              <th scope="col">Prénom</th>
              <th scope="col">nom</th>
              <th scope="col">Email</th>
              <th scope="col">Tél</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let item of eleveListClasse ">
              <td>{{ item.id}}</td>
              <td>{{ item.firstName }}</td>
              <td>{{ item.lastName }}</td>
              <td>{{ item.email}}</td>
              <td>{{ item.phone }}</td>
             
          </tr>
      </tbody>
  </table>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
         
        </div>
      </div>
    </div>
  </div> -->
  <!-- <div class="modal fade" id="exampleModalAffecter" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg"> 
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ajouter une classe</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
          <div style="display: flex; justify-content: flex-end; margin: 20px;">
            <select class="form-select" aria-label="Default select example" id="level-select" (change)="getStudentByNiv($event)" style="margin-left: 23cm;">
              <option *ngFor="let level of niveauScolaires" [value]="level" [selected]="selected==level">{{level}}</option>
            </select>
          </div>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Prénom</th>
                <th scope="col">nom</th>
                <th scope="col">Email</th>
                <th scope="col">Tél</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of ElevesClasses">
                <td>{{ item.id }}</td>
                <td>{{ item.firstName }}</td>
                <td>{{ item.lastName }}</td>
                <td>{{ item.email }}</td>
                <td>{{ item.phone }}</td>
                <td>
                  <div class="d-flex">
                    <button class="btn btn-sm btn-info custom-width" data-bs-target="#exampleModal" (click)="AffecterElev(item.id)">Affecter</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button  type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        </div>
      </div>
    </div>
  </div> -->